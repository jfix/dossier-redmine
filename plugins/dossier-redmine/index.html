<div class="row">
  <div class="col s12">
    <div class="section">
      <h3>Redmine Dossier</h3>
      <p class="flow-text">Simply fill in the form below to create a new Redmine dossier.</p>
      <form name="dossier-form" id="dossier-form" novalidate>
        <div class="row">
          <!-- PUBLICATION TYPE SELECTOR -->
          <div class="col s3">
            <label for="pubtype">Select a publication type</label>
            <select class="validate" name="pubtype" id="pubtype" required pattern="typeset|crc|vrd|pubstat">
              <option value="" disabled selected></option>
              <!-- the actual options are injected via code from config.json -->
            </select>
            <span class="helper-text" data-error="You must select one"/>
          </div>
          <!-- SUB TICKET CHECKBOXES -->
          <div class="offset-s1 col s8" id="subtickets">
            <div class="row">
              <!-- sub tickets get injected from code -->
            </div>
          </div>
        </div>

        <div class="row">
          <!-- Kappa v3 expression ID -->
          <div class="input-field col s3">
            <i style="cursor: pointer" id="kappa-icon" class="material-icons prefix tooltipped" data-position="top" data-tooltip="Click to open Kappa!">info</i>
            <label for="eid">Expression id</label>
            <input type="text" name="eid" id="eid" required class="validate"/>
            <span class="helper-text" data-error="Id required"/>
          </div>

          <!-- publication title auto-completed by application -->
          <div class="input-field col s9">
            <i class="material-icons prefix">book</i>
            <label for="pubtitle" data-error="Please enter the publication's title.">Publication title</label>
            <input type="text" required name="pubtitle" id="pubtitle" class="validate"/>
            <span class="helper-text" data-error="A title is required"/>
          </div>
        </div>

        <!-- DESCRIPTION -->
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">create</i>
            <textarea name="description" id="description" class="materialize-textarea" style="height: 6em">
* Book submission link:
* Kappa v2 link: 
* Kappa v3 link:
* Directorate:
* Contact Dir. Coordination: </textarea>
            <label class="active" for="description">Description</label>
          </div>
        </div>

        <!-- DUE DATE, INHOUSE AND SUBMIT -->
        <div class="row">
          <div class="col s4 input-field">
            <i class="material-icons prefix">today</i>
            <input type="text" name="due-date" id="due-date" class="datepicker validate" required pattern="\d{4}-\d{2}-\d{2}">
            <label for="due-date">Provisional date</label>
            <span class="helper-text" data-error="A date is required"/>
          </div>
          <div class="col s4 input-field">
            <i class="material-icons prefix">people</i>
            <select name="subcontractor" id="subcontractor">
              <option value="In-house" selected>In-house</option>
            </select>
            <label for="subcontractor" data-error="You must select one">Who will do the work?</label>
          </div>
          <div class="col s4 right-align">
            <button class="btn-large waves-effect waves-light" type="submit" name="submit" id="submit">Submit
              <i class="material-icons right">send</i>
            </button>
          </div>
        </div>
      </form>
      <!-- Modal Structure -->
      <div id="modalresult" class="modal bottom-sheet">
        <div class="modal-content">
          <h4></h4>
        </div>
      </div>

      <!-- API key entry form -->
      <div id="modalkey" class="modal">
        <div class="modal-content">
          <h5>Please provide your Redmine API key</h5>
          <p>Don't worry, this is a one-time thing!</p>
          <p>Just go to <a class="external" href='' id='redmine_my_account_link'>our Redmine site</a>, click "Show" below the
            <strong>API access key</strong>, and then copy and paste the weird-looking sequence of characters in the field below.</p>
          <div class='input-field'>
            <input type='password' id='redmine-api-key' name='redmine-api-key'/>
          </div>
          <div class="modal-footer">
            <div class="row">
              <div class="col s8 left-align valign-wrapper">
                <a id="key-test" class="modal-action waves-effect btn">Test
                  <i class="material-icons right">settings</i>
                </a>
                <span id="key-test-feedback" style="padding-left: 1em">
                  <i class="material-icons left"></i>
                  <span></span>
                </span>
              </div>
              <div class="col s4 right-align">
                <a id="key-submit" class="modal-action modal-close waves-effect btn">Save
                  <i class="material-icons right">save</i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div><!-- // end section -->
  </div>
</div>
